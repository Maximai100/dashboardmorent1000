import{r,j as e,d as T,e as l,f as w,g as C,h as y}from"./index-D61vT-7j.js";import{M as k}from"./Modal-D8wT5c0J.js";const D=({onClose:m,onAddColumn:u})=>{const[n,o]=r.useState(1),[t,c]=r.useState(null),[a,x]=r.useState(""),[d,b]=r.useState(!1),[i,h]=r.useState(!1),g=()=>{t&&o(2)},p=()=>{if(!a.trim()||!t)return;const s={id:`col-${Date.now()}`,name:a.trim(),type:t,...t===l.DOCUMENT&&{required:d,trackExpiration:i},...t===l.ATTRIBUTE&&{attributeType:y.TEXT}};u(s)},f=()=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-slate-200 mb-4",children:"1. Выберите тип колонки"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>c(l.DOCUMENT),className:`p-4 border rounded-lg text-center transition-all ${t===l.DOCUMENT?"border-blue-500 bg-blue-900/50 ring-2 ring-blue-500":"border-slate-600 hover:border-blue-500"}`,children:[e.jsx(T,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),e.jsx("span",{className:"font-semibold text-sm text-white",children:"Документ"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Отслеживание файлов, статусов и сроков."})]}),e.jsxs("button",{onClick:()=>c(l.ATTRIBUTE),className:`p-4 border rounded-lg text-center transition-all ${t===l.ATTRIBUTE?"border-green-500 bg-green-900/50 ring-2 ring-green-500":"border-slate-600 hover:border-green-500"}`,children:[e.jsx(w,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e.jsx("span",{className:"font-semibold text-sm text-white",children:"Атрибут"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Текст, число, дата или другой тип данных."})]})]})]}),N=()=>e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-slate-200 mb-4",children:"2. Задайте параметры"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"columnName",className:"block mb-2 text-sm font-medium text-white",children:"Название колонки"}),e.jsx("input",{type:"text",id:"columnName",value:a,onChange:s=>x(s.target.value),className:"bg-slate-700 border border-slate-600 text-white placeholder-slate-400 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Например, 'Доверенность'",required:!0})]}),t===l.DOCUMENT&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:s=>b(s.target.checked),className:"w-4 h-4 text-blue-600 bg-slate-700 border-slate-600 rounded focus:ring-blue-600 ring-offset-slate-800 focus:ring-2"}),e.jsx("span",{className:"ms-2 text-sm font-medium text-slate-300",children:"Обязательность"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:s=>h(s.target.checked),className:"w-4 h-4 text-blue-600 bg-slate-700 border-slate-600 rounded focus:ring-blue-600 ring-offset-slate-800 focus:ring-2"}),e.jsx("span",{className:"ms-2 text-sm font-medium text-slate-300",children:"Отслеживать срок действия"})]})]})]})]}),j=()=>{if(n===1)return e.jsxs("button",{type:"button",onClick:g,disabled:!t,className:"inline-flex items-center text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 disabled:bg-blue-500 disabled:cursor-not-allowed",children:["Далее ",e.jsx(C,{className:"w-4 h-4 ml-2"})]});if(n===2)return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>o(1),className:"text-white bg-slate-600 hover:bg-slate-700 border border-slate-500 focus:outline-none focus:ring-4 focus:ring-slate-500 font-medium rounded-lg text-sm px-5 py-2.5",children:"Назад"}),e.jsx("button",{type:"button",onClick:p,disabled:!a.trim(),className:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 disabled:bg-blue-500 disabled:cursor-not-allowed",children:"Добавить колонку"})]})};return e.jsxs(k,{title:"Мастер создания новой колонки",onClose:m,footer:e.jsx("div",{className:"flex space-x-2",children:j()}),children:[n===1&&f(),n===2&&N()]})};export{D as default};
