import{r as c,j as e,T as h,k as l,X as f}from"./index-wrKaCGM-.js";import{M as j}from"./Modal-BlvMQvnA.js";const v=({ownerName:x,column:a,attributeData:n,onClose:r,onUpdate:o})=>{const[s,u]=c.useState("");c.useEffect(()=>{const t=n==null?void 0:n.value;u(t==null?"":String(t))},[n]);const d=()=>{if(s==="")o({value:null});else{const t=a.attributeType===l.NUMBER?Number(s):s;o({value:t})}r()},m=()=>{o({value:null}),r()},p=()=>{const t={id:"attributeValue",value:s,onChange:i=>u(i.target.value),className:"bg-slate-700 border border-slate-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"};switch(a.attributeType){case l.NUMBER:return e.jsx("input",{type:"number",...t});case l.DATE:{const i=typeof s=="string"?s.split("T")[0]:"";return e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",...t,value:i,className:`${t.className} pr-8`}),s&&e.jsx("button",{type:"button",onClick:()=>u(""),className:"absolute inset-y-0 right-0 flex items-center pr-2 text-slate-400 hover:text-slate-200","aria-label":"Очистить дату",children:e.jsx(f,{className:"w-5 h-5"})})]})}case l.LINK:return e.jsx("input",{type:"url",...t,placeholder:"https://example.com"});case l.TEXT:default:return e.jsx("input",{type:"text",...t})}},b=e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsxs("button",{type:"button",onClick:m,className:"inline-flex items-center gap-2 text-red-400 hover:text-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-colors",children:[e.jsx(h,{className:"w-4 h-4"}),"Очистить значение"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:r,className:"text-white bg-slate-600 hover:bg-slate-700 border border-slate-500 focus:outline-none focus:ring-4 focus:ring-slate-500 font-medium rounded-lg text-sm px-5 py-2.5",children:"Отмена"}),e.jsx("button",{type:"button",onClick:d,className:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5",children:"Сохранить"})]})]});return e.jsxs(j,{title:`Редактирование: ${a.name}`,onClose:r,footer:b,children:[e.jsxs("p",{className:"text-sm text-slate-400 mb-4",children:["Собственник: ",e.jsx("span",{className:"font-medium text-slate-300",children:x})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"attributeValue",className:"block mb-2 text-sm font-medium text-white",children:a.name}),p()]})]})};export{v as default};
