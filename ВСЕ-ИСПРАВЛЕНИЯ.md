# üìã –°–≤–æ–¥–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. ‚ùå CORS –æ—à–∏–±–∫–∏ ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å—ã –∫ Directus
```
CORS header 'Access-Control-Allow-Origin' missing
```

**–†–µ—à–µ–Ω–∏–µ:** 
- –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–∫—Å–∏ –≤ `vite.config.ts`
- –û–±–Ω–æ–≤–ª–µ–Ω `config.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `/api` –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –ó–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ ‚Üí –æ–±—Ö–æ–¥ CORS

**–§–∞–π–ª—ã:** `vite.config.ts`, `config.ts`

---

### 2. ‚ùå ENOSPC: file watchers ‚Üí ‚úÖ –ì–æ—Ç–æ–≤–æ —Ä–µ—à–µ–Ω–∏–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–º–∏—Ç —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
```
Error: ENOSPC: System limit for number of file watchers reached
```

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `fix-watchers.sh` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ª–∏–º–∏—Ç —Å 65536 –¥–æ 524288

**–ö–æ–º–∞–Ω–¥–∞:** `./fix-watchers.sh`

---

### 3. ‚ùå Undefined history –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
```
can't access property "map", editableProject.history is undefined
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π –≤ `ProjectDetailModal`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏—Å—Ç–æ—Ä–∏–∏

**–§–∞–π–ª—ã:** `components/manager/ProjectDetailModal.tsx`

---

### 4. ‚ùå Undefined attachments –≤ —Ç–∞–±–ª–∏—Ü–µ ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
```
can't access property "length", project.attachments is undefined
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `.length`, `.map()`, `.some()`
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ undefined –º–∞—Å—Å–∏–≤–æ–≤

**–§–∞–π–ª—ã:** 
- `components/manager/ProjectRow.tsx`
- `components/manager/ManagerDashboard.tsx`

---

## –ò—Ç–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

‚úÖ 1 –ø—Ä–æ–±–ª–µ–º–∞ —Å CORS  
‚úÖ 1 –ø—Ä–æ–±–ª–µ–º–∞ —Å file watchers  
‚úÖ 6 –º–µ—Å—Ç —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ undefined –º–∞—Å—Å–∏–≤–æ–≤  

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `vite.config.ts` - –ø—Ä–æ–∫—Å–∏ –¥–ª—è CORS
2. `config.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏
3. `components/manager/ProjectDetailModal.tsx` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
4. `components/manager/ProjectRow.tsx` - –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤
5. `components/manager/ManagerDashboard.tsx` - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

- `FIX-CORS.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS
- `CORS-–†–ï–®–ï–ù–û.md` - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ CORS
- `FIX-WATCHERS.md` - –ø—Ä–æ file watchers
- `FIX-PROJECT-MODAL.md` - –ø—Ä–æ undefined –º–∞—Å—Å–∏–≤—ã
- `fix-watchers.sh` - —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `check-directus.js` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `–ë–´–°–¢–†–´–ô-–°–¢–ê–†–¢.txt` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `START.md` - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `DEPLOY.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- `–ò–¢–û–ì.txt` - –æ–±—â–µ–µ —Ä–µ–∑—é–º–µ

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:

### 1. –ò—Å–ø—Ä–∞–≤—å—Ç–µ file watchers (–æ–¥–∏–Ω —Ä–∞–∑):
```bash
./fix-watchers.sh
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
npm run dev
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
http://localhost:3000
```

### 4. –í–æ–π–¥–∏—Ç–µ:
- `director` / `password` (—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å)
- `manager` / `password` (–º–µ–Ω–µ–¥–∂–µ—Ä)

## –í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ –î–æ–±–∞–≤–ª—è—Ç—å –≤–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
