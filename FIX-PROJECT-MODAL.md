# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏ –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö

## –ü—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
```
Uncaught TypeError: can't access property "map", editableProject.history is undefined
ProjectDetailModal.tsx:240
```

### 2. –û—à–∏–±–∫–∞ –≤ —Å—Ç—Ä–æ–∫–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
```
Uncaught TypeError: can't access property "length", project.attachments is undefined
ProjectRow.tsx:81
```

## –ü—Ä–∏—á–∏–Ω–∞

–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ Directus, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—è (`history`, `tags`, `attachments`) –º–æ–≥—É—Ç –±—ã—Ç—å `undefined` –∏–ª–∏ `null`, –Ω–æ –∫–æ–¥ –ø—ã—Ç–∞–ª—Å—è –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤ (`.map()`, `.length`, `.some()`) –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏.

## –†–µ—à–µ–Ω–∏–µ

### 1. ProjectDetailModal.tsx

**–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π:**
```typescript
const initialProject: Project = {
    ...project,
    history: project.history || [],
    tags: project.tags || [],
    attachments: project.attachments || [],
    notes: project.notes || '',
};
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏—Å—Ç–æ—Ä–∏–∏:**
```typescript
{editableProject.history && editableProject.history.length > 0 ? (
    // –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é
) : (
    <p>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∫–∞ –ø—É—Å—Ç–∞</p>
)}
```

### 2. ProjectRow.tsx

**–ü—Ä–æ–≤–µ—Ä–∫–∞ tags –ø–µ—Ä–µ–¥ map:**
```typescript
{project.tags && project.tags.length > 0 ? (
    project.tags.map((tag) => ...)
) : (
    <span>‚Äî</span>
)}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ attachments –ø–µ—Ä–µ–¥ length:**
```typescript
{!project.attachments || project.attachments.length === 0 ? (
    <span>–ù–µ—Ç –≤–ª–æ–∂–µ–Ω–∏–π</span>
) : (
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤–ª–æ–∂–µ–Ω–∏—è
)}
```

### 3. ManagerDashboard.tsx

**–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥–∞–º:**
```typescript
(project.tags && project.tags.some(tag => ...))
```

**–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤–ª–æ–∂–µ–Ω–∏—è–º:**
```typescript
project.attachments?.some(att => ...) || false
```

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `components/manager/ProjectDetailModal.tsx`
- ‚úÖ `components/manager/ProjectRow.tsx`
- ‚úÖ `components/manager/ManagerDashboard.tsx`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –í—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–µ–∫—Ç—ã

## –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run dev`
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü—Ä–æ–µ–∫—Ç—ã"
4. –ù–∞–∂–º–∏—Ç–µ "–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç"
5. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
6. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

–í—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ
