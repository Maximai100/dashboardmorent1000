# ü§î –ü–æ—á–µ–º—É –¥—Ä—É–≥–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –Ω–µ –Ω—É–∂–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS?

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1. üåê –ü—Ä–æ–µ–∫—Ç –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ, —á—Ç–æ –∏ Directus

–ï—Å–ª–∏ –≤–∞—à —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ, —á—Ç–æ –∏ Directus, CORS –Ω–µ –Ω—É–∂–µ–Ω.

**–ü—Ä–∏–º–µ—Ä:**
- Directus: `https://1.cycloscope.online`
- –ü—Ä–æ–µ–∫—Ç: `https://1.cycloscope.online/app` –∏–ª–∏ `https://app.cycloscope.online`

CORS –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ **—Ä–∞–∑–Ω—ã–µ –¥–æ–º–µ–Ω—ã**. –ï—Å–ª–∏ –¥–æ–º–µ–Ω –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ (–∏–ª–∏ –ø–æ–¥–¥–æ–º–µ–Ω), –±—Ä–∞—É–∑–µ—Ä –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã.

---

### 2. üîß –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (nginx/Apache)

–ï—Å–ª–∏ –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ Directus —Å—Ç–æ–∏—Ç –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä (nginx, Apache, Cloudflare), –æ–Ω –º–æ–∂–µ—Ç:
- –î–æ–±–∞–≤–ª—è—Ç—å CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –¥—É–º–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –æ–¥–∏–Ω –¥–æ–º–µ–Ω

**–°—Ö–µ–º–∞:**
```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí nginx (–¥–æ–±–∞–≤–ª—è–µ—Ç CORS) ‚Üí Directus
```

---

### 3. üì± –≠—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

CORS —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö**!

–ï—Å–ª–∏ –≤–∞—à —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç:
- –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React Native, Flutter)
- Desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Electron)
- Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Node.js —Å–µ—Ä–≤–µ—Ä)

–¢–æ CORS –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è, –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã.

---

### 4. üîì CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ

–í–æ–∑–º–æ–∂–Ω–æ, CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Directus, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ –≤–∞—à–µ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Directus
cat .env | grep CORS
```

–í–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–º —É–∂–µ –µ—Å—Ç—å:
```env
CORS_ENABLED=true
CORS_ORIGIN=https://–≤–∞—à-—Ä–∞–±–æ—á–∏–π-–ø—Ä–æ–µ–∫—Ç.com
```

–ò –≤–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ **–¥–æ–±–∞–≤–∏—Ç—å** –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω:
```env
CORS_ORIGIN=https://–≤–∞—à-—Ä–∞–±–æ—á–∏–π-–ø—Ä–æ–µ–∫—Ç.com,https://dashboardmorent.vercel.app
```

---

### 5. üåç –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Directus SDK —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

–ï—Å–ª–∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Directus SDK:
```javascript
import { createDirectus } from '@directus/sdk';
```

SDK –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ CORS –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –∑–∞–ø—Ä–æ—Å–æ–≤.

–í –≤–∞—à–µ–º –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä—è–º—ã–µ `fetch()` –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ CORS.

---

### 6. üîí –†–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSR (Server-Side Rendering)

–ï—Å–ª–∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- Next.js —Å SSR
- Nuxt.js —Å SSR
- SvelteKit —Å SSR

–¢–æ –∑–∞–ø—Ä–æ—Å—ã –∫ Directus –∏–¥—É—Ç **—Å —Å–µ—Ä–≤–µ—Ä–∞**, –∞ –Ω–µ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞. CORS –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º!

**–°—Ö–µ–º–∞:**
```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí Next.js —Å–µ—Ä–≤–µ—Ä ‚Üí Directus (–±–µ–∑ CORS)
         ‚Üì
    –ë—Ä–∞—É–∑–µ—Ä (HTML)
```

–í–∞—à –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç - —ç—Ç–æ SPA (Single Page Application), –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:
```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí Directus (–Ω—É–∂–µ–Ω CORS!)
```

---

### 7. üß™ –†–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ localhost

–ï—Å–ª–∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `localhost`, –∞ Directus —Ç–æ–∂–µ –Ω–∞ `localhost` (–∏–ª–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏), CORS –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è —Ç–∞–∫ —Å—Ç—Ä–æ–≥–æ.

–ù–æ –∫–æ–≥–¥–∞ –≤—ã –¥–µ–ø–ª–æ–∏—Ç–µ –Ω–∞ Vercel (–¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω), CORS —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.

---

## üîç –ö–∞–∫ —É–∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞ —É –≤–∞—Å?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ F12 (–∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Directus (–∫ `1.cycloscope.online`)
6. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:**
```
Access-Control-Allow-Origin: https://–≤–∞—à-–¥–æ–º–µ–Ω.com
```
–ó–Ω–∞—á–∏—Ç CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ URL —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

- –ï—Å–ª–∏ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://1.cycloscope.online/...` ‚Üí –ø—Ä–∏—á–∏–Ω–∞ #1
- –ï—Å–ª–∏ URL –¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏—á–∏–Ω—ã #2, #4, #5, #6

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Directus

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cat .env | grep CORS
```

–ï—Å–ª–∏ —Ç–∞–º —É–∂–µ –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ø—Ä–∏—á–∏–Ω–∞ #4

---

## üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å?

### –ï—Å–ª–∏ CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø—Ä–∏—á–∏–Ω–∞ #4):
–ü—Ä–æ—Å—Ç–æ **–¥–æ–±–∞–≤—å—Ç–µ** –≤–∞—à –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º:
```env
CORS_ORIGIN=https://—Å—Ç–∞—Ä—ã–π-–ø—Ä–æ–µ–∫—Ç.com,https://dashboardmorent.vercel.app
```

### –ï—Å–ª–∏ CORS –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:
–ó–Ω–∞—á–∏—Ç –æ–¥–Ω–∞ –∏–∑ –ø—Ä–∏—á–∏–Ω #1, #2, #3, #5, #6, #7.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
2. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:**

–î–æ–±–∞–≤—å—Ç–µ –í–°–ï –≤–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–º–µ–Ω—ã:
```env
CORS_ENABLED=true
CORS_ORIGIN=http://localhost:3000,https://dashboardmorent.vercel.app,https://–≤–∞—à-—Ä–∞–±–æ—á–∏–π-–ø—Ä–æ–µ–∫—Ç.com,https://1.cycloscope.online
```

–≠—Ç–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç –Ω–∏—á–µ–≥–æ, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

---

## üéØ –ò—Ç–æ–≥–æ

–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤–∞—à —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç:
- –ù–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ (–ø—Ä–∏—á–∏–Ω–∞ #1)
- –ò–ª–∏ CORS —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –Ω–µ–≥–æ (–ø—Ä–∏—á–∏–Ω–∞ #4)
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSR (–ø—Ä–∏—á–∏–Ω–∞ #6)

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω –≤ CORS_ORIGIN, –∏ –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å! üöÄ
